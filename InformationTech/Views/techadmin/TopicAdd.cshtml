@model InformationTech.Models.Topic

@{
    ViewBag.Title = "Topic Add";
    Layout = "~/Views/_LayoutPageAdmin.cshtml";
}


<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

<script>
        function imagepreviewcust(input) {
            if (input.files) {

                var fildr = new FileReader();
                fildr.onload = function (e) {
                    $('#imgprwcust').attr('src', e.target.result);
                    $('#imgprwcust').attr('style', "width: 100px; height: 100px; border-radius: 50px; display:block;");

                    //style = "width: 100px; height: 100px; border-radius: 50px;"
                    // alert(e.target.result);
                }
                fildr.readAsDataURL(input.files[0]);

                //if (input.files == null) {
                //    alert("null");
                //}
                //else {
                //    alert("hello");
                //}


            }

        }

        function openFileOnClick()
        {
            //if (input.files == null) {
            //    alert("null");
            //}
            //else {
            //    alert("hello");
            //}

            if (document.getElementById("topic_photo").files.length >= 1) {
                //alert(document.getElementById("photo").value);
                //Do something
                $('#imgprwcust').attr('src', null);
                $('#imgprwcust').attr('style', "display:none;");
            }
            else {
                //alert(document.getElementById("photo").value);
                //Cancel button has been called.
            }

        }

</script>
<div class="container-fluid">
    <!-- ============================================================== -->
    <!-- Bread crumb and right sidebar toggle -->
    <!-- ============================================================== -->
    <div class="row page-titles">
        <div class="col-md-5 align-self-center">
            <h3 class="text-themecolor">Add Topic</h3>
        </div>
        <div class="col-md-7 align-self-center">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="@Url.Action("DashBoard","techadmin")">Home</a></li>
                <li class="breadcrumb-item">Topic</li>
                <li class="breadcrumb-item active">Add Topic</li>
            </ol>
        </div>

    </div>

    <!-- ============================================================== -->
    <!-- End Bread crumb and right sidebar toggle -->
    <!-- ============================================================== -->
    <!-- ============================================================== -->
    <!-- Start Page Content -->
    <!-- ============================================================== -->
    <!-- Row -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    @using (Html.BeginForm("TopicAdd", "techadmin", FormMethod.Post, new { enctype = "multipart/form-data", style = "width:400px;" }))
    {

        @Html.AntiForgeryToken()
        @Html.HiddenFor(model => model.dateandtime, new { @Value = DateTime.Now.ToString("yyyy-MM-dd HH:mm:ss") })
        @Html.HiddenFor(model => model.chapter_id)



        <div class="row">
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-header btn-primary">

                        <h4 class="m-b-0 text-white">Add Topic Here</h4>
                    </div>
                    <div class="card-body">
                        <div class="form p-t-20">
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="form-group">
                                        <label for="exampleInputuname">Topic Name</label>
                                        <div class="input-group">
                                            <div class="input-group-addon"><i class="ti-text"></i></div>

                                            @Html.TextBoxFor(model =>model.topic_tittle , new { placeholder = "Enter Topic Name", id = "exampleInputuname", title = "Enter Topic Name", @class = "form-control" })

                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label for="exampleInputuname">Topic Image</label>
                                        <div class="input-group">
                                            <div class="input-group-addon"><i class="ti-text"></i></div>

                                            @Html.TextBoxFor(model => model.topic_image, new { @class = "form-control", type = "file", accept = "image/*", title = "Enter Photo", onchange = "imagepreviewcust(this);", onclick = "openFileOnClick();" })


                                        </div>
                                    </div>

                                </div>

                            </div>
                        </div>
                        @*<div class="col-lg-4">
                            <div class="form-group">
                                <div class="input-group">


                                    <img id="imgprwcust" />
                                </div>
                            </div>
                        </div>*@

                        <button class="btn waves-effect waves-light btn-outline-success  text-uppercase btn-rounded " type="submit" value="topic" name="submit">Add Topic</button>
                        &nbsp;&nbsp;
                        <a href="@Url.Action("TopicView","techadmin",new { id = ViewBag.id})" class="btn waves-effect waves-light btn-outline-secondary btn-rounded">Cancel</a>

                    </div>
                </div>
            </div>
        </div>

    }

</div>



